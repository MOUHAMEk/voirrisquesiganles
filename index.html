<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <title>Liste des Risques Signalés</title>
    <link rel="stylesheet" type="text/css" href="styles.css">
    <script src="script.js"></script>
</head>
<style>
    /* styles.css */
header {
    text-align: center;
    font-size: 30px;
    font-family: 'Comic Sans MS', cursive, sans-serif;
    background-color: #3498db;
    color: white;
    padding: 20px;
    text-transform: uppercase;
}

.container {
    text-align: center;
    margin-top: 20px;
}

.risk-list {
    display: flex;
    justify-content: space-around; /* Espacement entre les risques */
    flex-wrap: wrap; /* Permet aux éléments de se replier */
}

.risk-item {
    text-align: center;
    background-color: #ecf0f1;
    border-radius: 10px;
    padding: 20px;
    margin: 20px; /* Espacement entre les éléments */
    width: 200px;
}

.risk-photo {
    width: 100%; /* La photo prend toute la largeur */
    border-radius: 10px;
}

.accept-button {
    background-color: #e74c3c; /* Rouge pour le bouton "Accepter" */
    color: white;
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    border: none;
    font-size: 16px;
}

.accept-button:hover {
    background-color: #c0392b; /* Rouge plus foncé */
}

.percentage-dropdown {
    display: flex; /* Aligner horizontalement */
    flex-direction: row; /* Garder les boutons alignés */
    justify-content: center; /* Centrer les boutons */
    margin-top: 20px; /* Espacement entre le bouton "Accepter" et les pourcentages */
}

.percentage-dropdown button {
    background-color: #3498db;
    color: white;
    padding: 10px;
    border-radius: 10px;
    cursor: pointer;
    border: none;
    font-size: 14px;
    margin-right: 10px; /* Espacement entre les boutons */
}

.percentage-dropdown button:hover {
    background-color: #2980b9;
}

.selected-percentage {
    margin-top: 20px; /* Espacement entre le pourcentage sélectionné et la liste */
    text-align: center; /* Centrer le contenu */
}

.update-button {
    background-color: #3498db; /* Bleu pour le bouton "Mettre à jour" */
    color: white;
    padding: 10px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
    font-size: 16px;
    text-align: center; /* Centrer le texte */
}

.update-button:hover {
    background-color: #2980b9;
}

.action-plan {
    background-color: #f1c40f;
    border-radius: 10px;
    padding: 20px;
    text-align: left; /* Aligner le texte à gauche */
    margin-top: 10px; /* Espacement entre le bouton "Mise à jour" et la boîte */
}

textarea {
    width: 100%;
    padding: 10px;
    border-radius: 10px;
}

.add-button {
    background-color: #e74c3c; /* Rouge pour le bouton "Ajouter" */
    color: white;
    padding: 10px;
    border-radius: 10px;
    border: none;
    cursor: pointer;
}

.add-button:hover {
    background-color: #c0392b;
}

footer {
    text-align: center;
    font-size: 18px;
    font-family: 'Comic Sans MS', cursive;
    background-color: #3498db;
    color: white;
    padding: 20px;
    text-transform: uppercase;
    margin-top: 40px; /* Espacement pour le pied de page */
}

</style>
<body>
    <header>
        <h1>Bienvenue</h1>
    </header>
    <div class="container">
        <!-- Liste des risques signalés -->
        <div class="risk-list">
            <div class="risk-item">
                <h2>Risque 1</h2>
                <img src="risk1.jpg" alt="Photo du risque 1" class="risk-photo">
                <p>Signalé par: Jean Dupont (Analyste)</p>
                <p>Date de signalement: 01/04/2023</p>
                <button class="accept-button" onclick="openDropdown(1)">Accepter</button>
                <!-- Liste des pourcentages -->
                <div id="dropdown-1" class="percentage-dropdown" style="display: none;">
                    <button onclick="selectPercentage(1, 10)">10%</button>
                    <button onclick="selectPercentage(1, 20)">20%</button>
                    <button onclick="selectPercentage(1, 30)">30%</button>
                    <button onclick="selectPercentage(1, 40)">40%</button>
                    <button onclick="selectPercentage(1, 50)">50%</button>
                    <button onclick="selectPercentage(1, 60)">60%</button>
                    <button onclick="selectPercentage(1, 70)">70%</button>
                    <button onclick="selectPercentage(1, 80)">80%</button>
                    <button onclick="selectPercentage(1, 90)">90%</button>
                    <button onclick="selectPercentage(1, 100)">100%</button>
                </div>
                <!-- Affichage du pourcentage sélectionné -->
                <div id="selected-percentage-1" class="selected-percentage" style="display: none;">
                    <p>Pourcentage sélectionné: <span id="percentage-value-1">0%</span></p>
                    <button id="update-button-1" class="update-button" onclick="updateRisk(1)">Mettre à jour</button>
                    <!-- Boîte pour ajouter le plan d'action corrective -->
                    <div id="action-plan-1" class="action-plan" style="display: none;">
                        <p>Ajouter le plan d'action corrective:</p>
                        <textarea rows="4" placeholder="Entrez votre plan d'action ici..."></textarea>
                        <p>Date d'achèvement: 20/04/2023</p>
                        <p>Temps écoulé: 19 jours</p>
                        <button class="add-button">Ajouter</button>
                    </div>
                </div>
            </div>

            <!-- Risques supplémentaires -->
            <div class="risk-item">
                <h2>Risque 2</h2>
                <img src="risk2.jpg" alt="Photo du risque 2" class="risk-photo">
                <p>Signalé par: Marie Dupont (Superviseur)</p>
                <p>Date de signalement: 05/04/2023</p>
                <button class="accept-button" onclick="openDropdown(2)">Accepter</button>
                <div id="dropdown-2" class="percentage-dropdown" style="display: none;">
                    <!-- Les mêmes boutons de pourcentage -->
                    <button onclick="selectPercentage(2, 10)">10%</button>
                    <button onclick="selectPercentage(2, 20)">20%</button>
                    <button onclick="selectPercentage(2, 30)">30%</button>
                    <button onclick="selectPercentage(2, 40)">40%</button>
                    <button onclick="selectPercentage(2, 50)">50%</button>
                    <button onclick="selectPercentage(2, 60)">60%</button>
                    <button onclick="selectPercentage(2, 70)">70%</button>
                    <button onclick="selectPercentage(2, 80)">80%</button>
                    <button onclick="selectPercentage(2, 90)">90%</button>
                    <button onclick="selectPercentage(2, 100)">100%</button>
                </div>
                <!-- Affichage du pourcentage sélectionné -->
                <div id="selected-percentage-2" class="selected-percentage" style="display: none;">
                    <p>Pourcentage sélectionné: <span id="percentage-value-2">0%</span></p>
                    <button id="update-button-2" class="update-button" onclick="updateRisk(2)">Mettre à jour</button>
                    <div id="action-plan-2" class="action-plan" style="display: none;">
                        <p>Ajouter le plan d'action corrective:</p>
                        <textarea rows="4" placeholder="Entrez votre plan d'action ici..."></textarea>
                        <p>Date d'achèvement: 25/04/2023</p>
                        <p>Temps écoulé: 20 jours</p>
                        <button class="add-button">Ajouter</button>
                    </div>
                </div>
            </div>

        </div>
    </div>

    <footer>
        MArisk
    </footer>
    <script>
        // script.js
function openDropdown(riskId) {
    const dropdown = document.getElementById(`dropdown-${riskId}`);
    dropdown.style.display = 'flex'; // Afficher la liste des pourcentages
}

function selectPercentage(riskId, percentage) {
    const selectedPercentage = document.getElementById(`selected-percentage-${riskId}`);
    const percentageValue = document.getElementById(`percentage-value-${riskId}`);
    const updateButton = document.getElementById(`update-button-${riskId}`);

    percentageValue.textContent = `${percentage}%`; // Mettre à jour le pourcentage affiché
    selectedPercentage.style.display = 'block'; // Montrer le pourcentage sélectionné

    if (percentage === 100) {
        updateButton.textContent = "Risque achevé"; // Changer le texte du bouton
        const actionPlan = document.getElementById(`action-plan-${riskId}`);
        actionPlan.style.display = 'block'; // Montrer la boîte pour ajouter le plan d'action corrective
    } else {
        updateButton.textContent = "Mettre à jour"; // Revenir au texte initial
        const actionPlan = document.getElementById(`action-plan-${riskId}`);
        actionPlan.style.display = 'none'; // Masquer la boîte d'action corrective
    }
}

function updateRisk(riskId) {
    alert(`Le risque ${riskId} a été mis à jour!`); // Notification lors de la mise à jour
}

    </script>
